{"version":3,"sources":["components/header.js","services/api-service.js","components/user.js","components/comment.js","components/comment-list.js","components/post.js","components/post-list.js","helpers/debounce.js","components/app.js","index.js"],"names":["Header","_ref","applyFilter","react_default","a","createElement","className","type","placeholder","onChange","event","target","value","api_service","_baseUrl","_getData","url","fetch","concat","_this","then","res","json","getPosts","getUsers","getComments","User","props","_props$user","user","name","email","_props$user$address","address","suite","street","city","Comment","_ref$comment","comment","body","CommentList","comments","Fragment","map","components_comment","key","id","Post","_ref$post","post","title","components_user","comment_list","PostList","posts","components_post","debounce","f","delay","timer","this","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","call","apply","App","state","showedPosts","users","isLoading","query","dowloadPosts","setState","ApiService","Promise","all","_ref2","Object","slicedToArray","getPostWithData","_this$state","normalizedQuery","toLowerCase","toConsumableArray","filter","_ref3","includes","objectSpread","find","userId","postId","_this$state2","spinner","header","post_list","onClick","Component","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.cffc6927.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = ({ applyFilter }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n      <div className=\"container\">\r\n        <div className=\"row w-100\">\r\n          <div className=\"col-12 d-flex justify-content-between\">\r\n            <div className=\"navbar-brand\">react_dynamic-list-of-posts</div>\r\n            <div className=\"form-inline my-2 my-lg-0\">\r\n              <input\r\n                className=\"form-control mr-sm-2\"\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                onChange={event => {\r\n                  applyFilter(event.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","class ApiService {\r\n  _baseUrl = 'https://jsonplaceholder.typicode.com/';\r\n\r\n  _getData = url => {\r\n    return fetch(`${this._baseUrl}${url}`).then(res => res.json());\r\n  };\r\n\r\n  getPosts = () => this._getData('posts');\r\n  getUsers = () => this._getData('users');\r\n  getComments = () => this._getData('comments');\r\n}\r\n\r\nexport default new ApiService();\r\n","import React from 'react';\r\n\r\nconst User = props => {\r\n  const {\r\n    name,\r\n    email,\r\n    address: { suite, street, city },\r\n  } = props.user;\r\n\r\n  return (\r\n    <span>\r\n      {name} {email} {suite} {street} {city}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\n\r\nconst Comment = ({ comment: { name, body, email } }) => {\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-between align-items-center bg-secondary\">\r\n      <div className=\"card border-0 bg-secondary\">\r\n        <h6 className=\"card-subtitle\">\r\n          {name}({email})\r\n        </h6>\r\n        <p className=\"card-text\">{body}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport Comment from './comment';\r\n\r\nconst CommentList = ({ comments }) => {\r\n  return (\r\n    <>\r\n      <h5 className=\"mb-1\">Comments</h5>\r\n      <ul className=\"list-group list-group-flush\">\r\n        {comments.map(comment => (\r\n          <Comment comment={comment} key={comment.id} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import React from 'react';\r\nimport User from './user';\r\nimport CommentList from './comment-list';\r\n\r\nconst Post = ({ post: { title, body, user, comments } }) => {\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-center align-items-center p-0 border-0\">\r\n      <div className=\"card border-0 bg-primary text-white mb-3\">\r\n        <h4 className=\"card-header\">{title}</h4>\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-subtitle mb-2\">\r\n            <User user={user} />\r\n          </h6>\r\n          <p className=\"card-text\">{body}</p>\r\n          <CommentList comments={comments} />\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport Post from './post';\r\n\r\nconst PostList = ({ posts }) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {posts.map(post => (\r\n        <Post post={post} key={post.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","function debounce(f, delay) {\r\n  let timer = null;\r\n  return function(...args) {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      f.call(this, ...args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\nexport default debounce;\r\n","import React, { Component } from 'react';\r\nimport Header from './header';\r\nimport ApiService from '../services/api-service';\r\nimport PostList from './post-list';\r\nimport debounce from '../helpers/debounce';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    posts: [],\r\n    showedPosts: [],\r\n    users: [],\r\n    comments: [],\r\n    isLoading: false,\r\n    query: '',\r\n  };\r\n\r\n  dowloadPosts = () => {\r\n    this.setState({ isLoading: true });\r\n\r\n    const { getPosts, getUsers, getComments } = ApiService;\r\n\r\n    Promise.all([getPosts(), getUsers(), getComments()]).then(([posts, users, comments]) => {\r\n      this.setState({\r\n        posts,\r\n        users,\r\n        comments,\r\n        isLoading: false,\r\n        showedPosts: this.getPostWithData(posts, users, comments, this.state.query),\r\n      });\r\n    });\r\n  };\r\n\r\n  applyFilter = debounce(query => {\r\n    if (query !== this.state.query) {\r\n      const { posts, users, comments } = this.state;\r\n\r\n      this.setState({ query, showedPosts: this.getPostWithData(posts, users, comments, query) });\r\n    }\r\n  }, 500);\r\n\r\n  getPostWithData(posts, users, comments, query) {\r\n    const normalizedQuery = query.toLowerCase();\r\n    return [...posts]\r\n      .filter(({ body, title }) => {\r\n        const searchString = `${title}\\n${body}`.toLowerCase();\r\n        return searchString.includes(normalizedQuery);\r\n      })\r\n      .map(post => ({\r\n        ...post,\r\n        user: users.find(user => user.id === post.userId),\r\n        comments: comments.filter(comment => comment.postId === post.id),\r\n      }));\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, showedPosts, posts } = this.state;\r\n    const spinner = isLoading ? <div className=\"spinner spinner-border text-primary\"></div> : null;\r\n\r\n    return (\r\n      <>\r\n        <Header applyFilter={this.applyFilter} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 text-center p-5\">\r\n              {spinner}\r\n              <PostList posts={showedPosts} />\r\n              {showedPosts.length === 0 && posts.length > 0 ? 'Nothing' : null}\r\n              <button\r\n                type=\"button\"\r\n                className={`btn btn-info ${isLoading || posts.length > 0 ? 'd-none' : null}`}\r\n                onClick={this.dowloadPosts}\r\n              >\r\n                Download Posts\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}