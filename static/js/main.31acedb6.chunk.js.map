{"version":3,"sources":["components/header.js","services/api-service.js","components/user.js","components/comment.js","components/comment-list.js","components/post.js","components/post-list.js","components/app.js","index.js"],"names":["Header","state","search","handleChange","event","_this","setState","target","value","handleSubmit","preventDefault","applyFilter","props","react_default","a","createElement","className","onSubmit","this","type","placeholder","onChange","Component","api_service","_baseUrl","_getData","url","fetch","concat","then","res","json","getPosts","getUsers","getComments","User","_props$user","user","name","email","address","suite","street","city","Comment","_ref","_ref$comment","comment","body","CommentList","comments","Fragment","map","components_comment","key","id","Post","_ref$post","post","title","components_user","comment_list","PostList","posts","components_post","App","users","isLoading","filter","dowloadPost","ApiService","Promise","all","_ref2","Object","slicedToArray","_ref3","toLowerCase","includes","objectSpread","find","userId","postId","_this$state","showedPosts","getPostWithData","header","length","post_list","onClick","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.31acedb6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ search: event.target.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { applyFilter } = this.props;\r\n    applyFilter(this.state.search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <div className=\"row w-100\">\r\n            <div className=\"col-12 d-flex justify-content-between\">\r\n              <div className=\"navbar-brand\">react_dynamic-list-of-posts</div>\r\n              <form className=\"form-inline my-2 my-lg-0\" onSubmit={this.handleSubmit}>\r\n                <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" onChange={this.handleChange} />\r\n                <button className=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\">\r\n                  Search\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","class ApiService {\r\n  _baseUrl = 'https://jsonplaceholder.typicode.com/';\r\n\r\n  _getData = url => {\r\n    return fetch(`${this._baseUrl}${url}`).then(res => res.json());\r\n  };\r\n\r\n  getPosts = () => this._getData('posts');\r\n  getUsers = () => this._getData('users');\r\n  getComments = () => this._getData('comments');\r\n}\r\n\r\nexport default new ApiService();\r\n","import React from 'react';\r\n\r\nconst User = props => {\r\n  const { name, email, address } = props.user;\r\n  const { suite, street, city } = address;\r\n\r\n  return (\r\n    <span>\r\n      {name} {email} {suite} {street} {city}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\n\r\nconst Comment = ({ comment: { name, body, email } }) => {\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-between align-items-center bg-secondary\">\r\n      <div className=\"card border-0 bg-secondary\">\r\n        <h6 className=\"card-subtitle\">\r\n          {name}({email})\r\n        </h6>\r\n        <p className=\"card-text\">{body}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport Comment from './comment';\r\n\r\nconst CommentList = ({ comments }) => {\r\n  return (\r\n    <>\r\n      <h5 className=\"mb-1\">Comments</h5>\r\n      <ul className=\"list-group list-group-flush\">\r\n        {comments.map(comment => (\r\n          <Comment comment={comment} key={comment.id} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import React from 'react';\r\nimport User from './user';\r\nimport CommentList from './comment-list';\r\n\r\nconst Post = ({ post: { title, body, user, comments } }) => {\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-center align-items-center p-0 border-0\">\r\n      <div className=\"card border-0 bg-primary text-white mb-3\">\r\n        <h4 className=\"card-header\">{title}</h4>\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-subtitle mb-2\">\r\n            <User user={user} />\r\n          </h6>\r\n          <p className=\"card-text\">{body}</p>\r\n          <CommentList comments={comments} />\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport Post from './post';\r\n\r\nconst PostList = ({ posts }) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {posts.map(post => (\r\n        <Post post={post} key={post.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import React, { Component } from 'react';\nimport Header from './header';\nimport ApiService from '../services/api-service';\nimport PostList from './post-list';\n\nclass App extends Component {\n  state = {\n    posts: [],\n    users: [],\n    comments: [],\n    isLoading: false,\n    filter: '',\n  };\n\n  dowloadPost = () => {\n    this.setState({ isLoading: true });\n\n    const { getPosts, getUsers, getComments } = ApiService;\n\n    Promise.all([getPosts(), getUsers(), getComments()]).then(([posts, users, comments]) => {\n      this.setState({\n        posts,\n        users,\n        comments,\n        isLoading: false,\n      });\n    });\n  };\n\n  applyFilter = key => {\n    if (key !== this.state.filter) {\n      this.setState({ filter: key });\n    }\n  };\n\n  getPostWithData(posts, users, comments, filter) {\n    const newPosts = posts\n      .filter(({ body }) => body.toLowerCase().includes(filter.toLowerCase()))\n      .map(post => {\n        return {\n          ...post,\n          user: users.find(user => user.id === post.userId),\n          comments: comments.filter(comment => comment.postId === post.id),\n        };\n      });\n    return newPosts;\n  }\n\n  render() {\n    const { isLoading, posts, users, comments, filter } = this.state;\n    const showedPosts = posts ? this.getPostWithData(posts, users, comments, filter) : [];\n    return (\n      <>\n        <Header applyFilter={this.applyFilter} />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12 text-center p-5\">\n              {isLoading ? (\n                <span>Loading...</span>\n              ) : posts.length > 0 ? (\n                <PostList posts={showedPosts} />\n              ) : (\n                <button type=\"button\" className=\"btn btn-info\" onClick={this.dowloadPost}>\n                  Download Posts\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}