(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),c=a.n(s),l=(a(16),a(8)),o=a(6),i=a(1),m=a(4),u=a(7),d=a(5),p=a(9),f=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"navbar-brand"},"react_dynamic-list-of-posts")))))},b=function e(){var t=this;Object(i.a)(this,e),this._baseUrl="https://jsonplaceholder.typicode.com/",this._getData=function(e){return fetch("".concat(t._baseUrl).concat(e)).then(function(e){return e.json()})},this.getPosts=function(){return t._getData("posts")},this.getUsers=function(){return t._getData("users")},this.getComments=function(){return t._getData("comments")}},g=function(e){var t=e.user,a=t.name,n=t.email,s=t.address,c=s.suite,l=s.street,o=s.city;return r.a.createElement("span",null,a," ",n," ",c," ",l," ",o)},E=g;g.defaultProps={user:{address:{suite:null,street:null,city:null},name:null,email:null},email:null};var v=function(e){var t=e.comment,a=t.name,n=t.body,s=t.email;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center bg-secondary"},r.a.createElement("div",{className:"card border-0 bg-secondary"},r.a.createElement("h6",{className:"card-subtitle"},a,"(",s,")"),r.a.createElement("p",{className:"card-text"},n)))},h=function(e){var t=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"mb-1"},"Comments"),r.a.createElement("ul",{className:"list-group list-group-flush"},t.map(function(e){return r.a.createElement(v,{comment:e,key:e.id})})))},N=function(e){var t=e.post,a=t.title,n=t.body,s=t.user,c=t.comments;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-center align-items-center p-0 border-0"},r.a.createElement("div",{className:"card border-0 bg-primary text-white mb-3"},r.a.createElement("h4",{className:"card-header"},a),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-subtitle mb-2"},r.a.createElement(E,{user:s})),r.a.createElement("p",{className:"card-text"},n),r.a.createElement(h,{comments:c}))))},y=function(e){var t=e.posts;return r.a.createElement("ul",{className:"list-group"},t.map(function(e){return r.a.createElement(N,{post:e,key:e.id})}))},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],users:[],comments:[],isLoading:!1},a.apiService=new b,a.dowloadPost=function(){a.setState({isLoading:!0});var e=a.apiService,t=e.getPosts,n=e.getUsers,r=e.getComments;Promise.all([t(),n(),r()]).then(function(e){var t=Object(o.a)(e,3),n=t[0],r=t[1],s=t[2];a.setState({posts:n,users:r,comments:s,isLoading:!1}),console.log(a.state)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getPostWithData",value:function(e,t,a){return e.map(function(e){return Object(l.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:a.filter(function(t){return t.postId===e.id})})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.posts,n=e.users,s=e.comments,c=[];return a&&(c=this.getPostWithData(a,n,s),console.log(c)),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center p-5"},t?r.a.createElement("span",null,"Loading..."):a.length>0?r.a.createElement(y,{posts:c}):r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.dowloadPost},"Download Posts")))))}}]),t}(n.Component);c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.144c38c3.chunk.js.map